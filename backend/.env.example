# Database Configuration
# REQUIRED: Never commit real credentials. Use environment secrets in production.
# Local development:
DATABASE_URL=postgresql://postgres:password@localhost:5432/mydb

# Cloud PostgreSQL (AWS RDS example - use your region, instance, credentials):
# DATABASE_URL=postgresql://admin:YOUR_PASSWORD@your-instance.region.rds.amazonaws.com:5432/mydb?sslmode=require

# Cloud PostgreSQL (Azure Database for PostgreSQL example):
# DATABASE_URL=postgresql://admin@your-server:YOUR_PASSWORD@your-server.postgres.database.azure.com:5432/mydb?sslmode=require

# Production: SSL is auto-appended when NODE_ENV=production if not in URL.
# For cloud providers, include ?sslmode=require (or verify-full for stricter).
# Optional: connection pool limit (default 10, helps serverless):
# DATABASE_CONNECTION_LIMIT=10

# Server Configuration
PORT=5000

# JWT Configuration
JWT_SECRET=your-secret-key-here-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-here-change-in-production

# CORS Configuration (production: use HTTPS custom domain, never '*' )
CORS_ORIGIN=http://localhost:3000
# Production: CORS_ORIGIN=https://civictrack.com
# Multiple origins: CORS_ORIGINS=https://civictrack.com,https://www.civictrack.com

# Redis Configuration (Optional - remove or comment out if Redis is not available)
# REDIS_URL=redis://localhost:6379

# Cache TTL Configuration (Optional)
# CACHE_TTL_SECONDS=60
# CACHE_TTL_ONE_SECONDS=30

# Supabase Storage (Private bucket, signed URLs only)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
# SUPABASE_BUCKET=uploads
# Optional: object key prefix (default: uploads)
# STORAGE_KEY_PREFIX=uploads
# Optional: max file size in bytes (default: 2097152 = 2MB)
# STORAGE_MAX_FILE_SIZE_BYTES=2097152
# Optional: allowed MIME types, comma-separated (default: image/png,image/jpeg,image/jpg,application/pdf)
# STORAGE_ALLOWED_MIME_TYPES=image/png,image/jpeg,image/jpg,application/pdf

# Supabase Vault - Cloud Secret Management (Production)
# SECRET_PROVIDER=supabase
# SUPABASE_DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
# Get from Supabase Dashboard → Settings → Database → Connection string (URI, Transaction mode)
# Optional: limit which keys to load (comma-separated). If omitted, loads all vault secrets.
# SUPABASE_VAULT_KEYS=DATABASE_URL,JWT_SECRET,JWT_REFRESH_SECRET
# Optional: cache TTL in seconds (default 300)
# SECRET_CACHE_TTL_SECONDS=300
